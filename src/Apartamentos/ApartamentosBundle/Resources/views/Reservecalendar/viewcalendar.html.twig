{% extends '::masteradmin.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('css/fullcalendar.css') }}" rel='stylesheet' />
    <link href="{{ asset('css/fullcalendar.print.css') }}" rel='stylesheet' media='print'/>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
            font-size: 14px;
        }

        #script-warning {
            display: none;
            background: #eee;
            border-bottom: 1px solid #ddd;
            padding: 0 10px;
            line-height: 40px;
            text-align: center;
            font-weight: bold;
            font-size: 12px;
            color: red;
        }
        #calendar {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 10px;
        }

    </style>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src={{ asset('js/moment.min.js') }}></script>
    <script src={{ asset('js/fullcalendar.min.js') }}></script>
    <script src={{ asset('js/lang-all.js') }}></script>
    <script>

        $(document).ready(function() {


            function renderCalendar() {
                $('#calendar').fullCalendar({
                    header: {
                        left: 'prev,next today',
                        center: 'title',
                        right: 'month,agendaWeek,agendaDay'
                    },
                    defaultDate: '2014-11-12',
                    lang: '{{ app.request.locale }}',
                    buttonIcons: false, // show the prev/next text
                    weekNumbers: true,
                    editable: true,
                    eventLimit: true, // allow "more" link when too many events

                            events: {
                    url: "{{ path('allevents')}}",
                            error: function() {
                        $('#script-warning').show();
                    }
                },
                    loading: function(bool) {
                        $('#loading').toggle(bool);
                    }

                });
            }

            renderCalendar();
        });

    </script>

{% endblock %}

{% block contenido %}

    <div id='calendar'></div>
{% endblock %}
