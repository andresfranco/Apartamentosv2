{% extends '::masteradmin.html.twig' %}
{% block contenido %} 
  <h2 class="titulo">{{'Acciones de Seguridad'|trans}}</h2>
   <hr>   
    {% block grid %}
    <div class="grid">
    <div class="row large-12 columns">     
        {% block grid_search %}
       {% if grid.isFilterSectionVisible %}
          
          <form id="{{ grid.hash }}_search" action="{{ grid.routeUrl }}" method="post">
          
              
          {% for column in grid.columns %}
           {% if column.isFilterable and column.type not in ['actions', 'massaction'] %}
               {% set columnTitle = grid.prefixTitle ~ column.title %}
                <div class="{{ cycle(['odd', 'even'], loop.index) }} large-4 columns">
                <label>{{ columnTitle|trans }}</label>
                {{ grid_filter(column, grid, false)|raw }}
                </div>
           {% endif %}
            
          {% endfor %}
            <div class=" large-4 columns">     
           <input type="submit" value="{{ 'Buscar'|trans }}" class="button radius "/>
            </div>
          </form>
          
      </div>       
        {% endif %}
       {% endblock grid_search %}
       <div class="row large-12 columns">   
        {% if create =='S'%}
            <div>
                <a href="{{path(urlnew)}}"><img  src="{{ asset('images/new.png') }}"/></a>
            </div>
        {% endif %}

       {% if grid.totalCount > 0 or grid.isFiltered or grid.noDataMessage is sameas(false) %}
       
        <br>
        <form id="{{ grid.hash }}" action="{{ grid.routeUrl }}" method="post">
          <div class="grid_header">
          {% if grid.massActions|length > 0 %}
            {{ grid_actions(grid) }}
          {% endif %}
          </div>
        <div class="grid_body">
        <table>
      {% block grid_titles %}
      <thead>       
      <tr class="grid-row-titles">
       {% for column in grid.columns %}
        {% if column.visible(grid.isReadyForExport) %}
            <th class="{% if column.align != 'left'%}align-{{ column.align }}{% endif %}{% if column.class %} {{ column.class }}{% endif %}{% if loop.last %} last-column{% endif %}"{% if(column.size > -1) %} style="width:{{ column.size }}px;"{% endif %}>
            {%- spaceless %}
            {% if column.type == 'massaction' %}
                <input type="checkbox" class="grid-mass-selector" onclick="{{ grid.hash }}_markVisible(this.checked);"/>
            {% else %}
                {% set columnTitle = grid.prefixTitle ~ column.title ~ '__abbr' %}
                {% if columnTitle|trans == columnTitle %}
                    {% set columnTitle = grid.prefixTitle ~ column.title %}
                {% endif %}
                {% if (column.sortable) %}
                <a class="order" href="{{ grid_url('order', grid, column) }}" title="{{ 'Order by'|trans }} {{ columnTitle|trans }}">{{ columnTitle|trans }}</a>
                    
                    {% if column.order == 'asc' %}
                     <a class="order" href="{{ grid_url('order', grid, column) }}" title="{{ 'Order by'|trans }} {{ columnTitle|trans }}"><img src="{{asset('images/sort_up.gif')}}"/> </a>
                    {% elseif column.order == 'desc' %}
                        <a class="order" href="{{ grid_url('order', grid, column) }}" title="{{ 'Order by'|trans }} {{ columnTitle|trans }}"><img src="{{asset('images/sort_down.gif')}}"/> </a>
                    {% endif %}
                {% else %}
                    {{ columnTitle|trans }}
                {% endif %}
            {% endif %}
            {% endspaceless -%}
            </th>
         {% endif %}
       {% endfor %}
    </tr>
    
     {% endblock grid_titles %}
    </thead>
    <tbody>
     {% block grid_rows %}
    {% for row in grid.rows %}
    {% set last_row = loop.last %}
    {% spaceless %}
        <tr{% if row.color != '' %} style="background-color:{{ row.color }};"{% endif %} class="grid-row-cells {{ cycle(['odd', 'even'], loop.index) }}{% if row.class != '' %} {{ row.class }}{% endif %}">
        {% for column in grid.columns %}
            {% if column.visible(grid.isReadyForExport) %}
                <td class="grid-column-{{ column.renderBlockId }}{% if column.class %} {{ column.class }}{% endif %}{% if column.align != 'left'%} align-{{ column.align }}{% endif %}{% if loop.last %} last-column{% endif %}{% if last_row %} last-row{% endif %}">{{ grid_cell(column, row, grid)|raw }}</td>
            {% endif %}
        {% endfor %}
    {% endspaceless %}
    </tr>
    {% else %}
        {{ grid_no_result(grid) }}
    {% endfor %}
    
{% endblock grid_rows %}
    </tbody>
        </table>
            </div>
        </div>
   <div class="row large-12 columns">
   <div class="grid_footer">
        {% if grid.isPagerSectionVisible %}
            {% block grid_pager %}
    {% if pagerfanta %}
        {{ grid_pagerfanta(grid) }}
    {% else %}
      {#  <div class="pager" >
            <table class="paginado">
                <tr>
               <td>{{ '%count% Resultados, ' | transchoice(grid.totalCount, {'%count%': grid.totalCount}) }}
                 {{ 'Pagina'|trans }}
                </td>
                <td>
               <input type="button" class="paginado" {% if grid.page <= 0 %}disabled="disabled"{% endif %} value="<" onclick="return {{ grid.hash }}_previousPage();"/> 
                </td>
                    <td>
                      <input type="text" class="current" value="{{ grid.page + 1 }}" size="2" onkeypress="return {{ grid.hash }}_enterPage(event, parseInt(this.value)-1);"/>
                    </td>
                    <td>
                       <input type="button" value=">" class="paginado" {% if grid.page >= grid.pageCount-1 %}disabled="disabled"{% endif %} onclick="return {{ grid.hash }}_nextPage();"/>         
                    </td>
                    <td>
                        {{ 'de %count%'|trans({ '%count%' : grid.pageCount }) }}{{ ', Mostrar'|trans }}
                    </td>
                    <td>
                   <select onchange="return {{ grid.hash }}_resultsPerPage(this.value);" class="paginado">
                      {% for key, value in grid.limits %}
                      <option value="{{ key }}"{% if (key == grid.limit) %} selected="selected"{% endif %}>{{ value }}</option>
                      {% endfor %}
                   </td>   
                </tr>
            </table>            
        </div>
       <br>#}
      
          
           <ul class="pagination">
           <li class={% if grid.page <= 0 %}"arrow unavailable" aria-disabled="true"{% else %}"arrow"{% endif %}>
               <a {% if grid.page > 0 %}onclick="return {{ grid.hash }}_previousPage();"{% endif %}>&laquo; Previous</a>
           </li>    
           {% for i in range(1, grid.pageCount) %}
            <li {%if i == grid.page + 1 %}class="current"{%endif%}>
             <a  value="{{i}}" onclick ="return {{ grid.hash }}_goto('{{ grid_url('page',grid,i-1) }}');">{{i}}</a></li>
            {% endfor %}
            <li class={% if grid.page >= grid.pageCount-1 %}"arrow unavailable" aria-disabled="true"{%else%}"arrow"{% endif %}>
                <a onclick="return {{ grid.hash }}_nextPage();">Next &raquo;</a>
            </li>   
           </ul>
      
       
    {% endif %}
{% endblock grid_pager %}
        {% endif %}
        {% if grid.exports|length > 0 %}
            {{ grid_exports(grid) }}
        {% endif %}
        {% if grid.tweaks|length > 0 %}
            {{ grid_tweaks(grid) }}
        {% endif %}
         </div>
        </div>
        {% if withjs %}
            {{ grid_scripts(grid) }}
        {% endif %}
    </form>
{% else %}
   <br>{{ grid_no_data(grid) }}
{% endif %}
</div>
{% endblock grid %}
 {% endblock contenido %}   

